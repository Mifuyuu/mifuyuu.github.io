document.addEventListener("DOMContentLoaded", () => {
    const themeIcon = document.getElementById("theme-icon");
    const currentTheme = localStorage.getItem("theme") || "light-theme";

    document.body.classList.add(currentTheme);
    updateIcon(currentTheme);

    themeIcon.addEventListener("click", () => {
        const newTheme = document.body.classList.contains("light-theme") ? "dark-theme" : "light-theme";
        document.body.classList.remove("light-theme", "dark-theme");
        document.body.classList.add(newTheme);
        localStorage.setItem("theme", newTheme);
        updateIcon(newTheme);
    });

    function updateIcon(theme) {
        if (theme === "dark-theme") {
            themeIcon.classList.replace("fa-moon", "fa-sun");
            themeIcon.style.color = "#fff";
            // themeIcon.style.color = "#ffd106";
        } else {
            themeIcon.classList.replace("fa-sun", "fa-moon");
            // themeIcon.style.color = "#333";
            // themeIcon.style.color = "#2563eb";
            themeIcon.style.color = "#b170db";
        }
    }
});

document.addEventListener("keydown", (event) => {
    if (
        event.key === "F12" ||
        (event.ctrlKey && event.shiftKey && event.key === "I") ||
        (event.ctrlKey && event.shiftKey && event.key === "J") ||
        (event.ctrlKey && event.key === "U") ||
        (event.ctrlKey && event.key === "C") ||
        (event.ctrlKey && event.key === "V")
    ) {
        event.preventDefault();
    }
});

document.addEventListener("DOMContentLoaded", () => {
    const changelog = document.getElementById("changelog-container");
    const closeChangelog = document.getElementById("close-changelog");

    const currentVersion = "1.1.2";

    document.getElementById("latestVersion").textContent = currentVersion;

    const lastSeenVersion = localStorage.getItem("lastSeenVersion");

    if (lastSeenVersion !== currentVersion) {
        changelog.style.display = "flex";
        document.body.classList.add("no-scroll");
    } else {
        changelog.style.display = "none";
        document.body.classList.remove("no-scroll");
    }

    closeChangelog.addEventListener("click", () => {
        changelog.style.display = "none";
        localStorage.setItem("lastSeenVersion", currentVersion);
        document.body.classList.remove("no-scroll");
    });
});

